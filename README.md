pqombp.github.io
================

This is the repository for Promenadorquestern och med Baletten Paletten's
website. It is generated by [Jekyll](https://jekyllrb.com/) using the base
GitHub Action for Jekyll (i.e., **NOT** the default GitHub pages workflow).

Documentation hints
-------------------

This website has two features that need some explanation:
- redirects to other URLs;
- Swedish and English translations of each page.

Both of these features use Ruby plugins that Jekyll executes when generating
the website.

**Redirects** are implemented as meta refresh redirects because free GitHub
pages do not allow 301 redirects. The redirects are stored in
[`_data/redirects.csv`](/_data/redirects.csv), and are generated by
[`_plugins/redirect.rb`](/_plugins/redirect.rb). Edit the CSV file to modify
the available redirects.

**Translations** are implemented as follows. The user writes a file in
[`_includes/base_pages/`](_includes/base_pages/) that includes both Swedish and
English translations, toggled by Liquid tags:

```
{%- if page.sv -%}
    Svenskt innehåll här
{%- else -%}
    English content here
{%- endif -%}
```
*Side note: the dash (`-`) symbols in the Liquid tags tell Liquid to ignore
all whitespace outside of the tag. This lets us format the Liquid content
without affecting the formatting of the generated output.*

The user then adds the Swedish and English names (i.e. what appears in the
URL) and titles (i.e. what appears on the browser tab) in
[`_data/page_translations.csv`](/_data/page_translations.csv). The plugin
[`_plugins/page_translations.rb`](/_plugins/page_translations.rb) reads the
CSV file and generates the two versions of the page. Only the English
versions get a subdirectory, `en/`.

**Note:** Currently, all pages in `_data/page_translations.csv` are also
added to the navigation bar. This should be addressed in the future, where we
would also want to customize the navigation bar a bit more.